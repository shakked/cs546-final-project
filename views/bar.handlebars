<div class="container-fluid">
    <div id="map"></div>
    <section id="venue">
        <label class="sports-bar">Sports Bar</label>

        <h1>{{bar.name}}</h1>
        <span>{{bar.address}}</span>
        <p>{{bar.description}}</p>
        <section class="happy-hours">
            <div class="friday happy-hour">
                <h2>$2 Beer Happy Hour</h2>
                <span>4PM to 8PM</span>
                <p>Come enjoy our full selection of local draft beers as well as select bottles for $2 during happy hour from 4PM to 8PM every night of the week.</p>
            </div>
            <div class="monday happy-hour">
                <h2>$2 Beer Happy Hour</h2>
                <span>4PM to 8PM</span>
                <p>Come enjoy our full selection of local draft beers as well as select bottles for $2 during happy hour from 4PM to 8PM every night of the week.</p>
            </div>
            
        </section>
    </section>
    
    
</div>

{{#each barSpecials}}

    <p>---------------</p>
    <p>Bar Special ID: <a href="/bars/{{../bar._id}}/specials/{{this._id}}">{{this._id}}</a></p>
    <p>Name: {{this.name}}</p>
    <p>When: {{this.when}}</p>
    <p>Description: {{this.description}}</p>

{{/each}}

<div class="container col-sm-4 col-sm-offset-4">
    <h1>Add Happy Hour</h1> 
    <form action="/bars/{{bar._id}}/add-happy-hour" method="POST">
        <div class="form-group">
            <label for="name">Name of Bar Special:</label>
            <input type="text" name="name" class="form-control" id="name" placeholder="i.e. Taco Tuesday">
        </div>

        <div class="form-group">
            <label for="when">When</label>
            <input type="text" name="when" class="form-control" id="when" placeholder="Mondays 6PM to 10PM">
        </div>
        <div class="form-group">
            <label for="description">Description</label>
            <input type="text" name="description" class="form-control" id="description" placeholder="i.e. $2 Tacos and $2 Coronas!">
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
    </form>
</div>


<script>
    function initMap() {
        var bar = { lat: 40.736100, lng: -74.028628 };
        
        var icons = {
          sportsBar: { icon: '/public/sports-bar.png' },
          nightClub: { icon: '/public/night-club.png' }
        };

        marker = {
            position: new google.maps.LatLng(40.736100, -74.028628),
            type: 'sportsBar'
        }
        
        var map = new google.maps.Map(document.getElementById('map'), {
            zoom: 17,
            center: bar,
            disableDefaultUI: true,
            styles: [{"featureType":"administrative","elementType":"labels.text.fill","stylers":[{"color":"#6195a0"}]},{"featureType":"administrative.province","elementType":"geometry.stroke","stylers":[{"visibility":"off"}]},{"featureType":"landscape","elementType":"geometry","stylers":[{"lightness":"0"},{"saturation":"0"},{"color":"#f5f5f2"},{"gamma":"1"}]},{"featureType":"landscape.man_made","elementType":"all","stylers":[{"lightness":"-3"},{"gamma":"1.00"}]},{"featureType":"landscape.natural.terrain","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"poi","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"poi.park","elementType":"geometry.fill","stylers":[{"color":"#bae5ce"},{"visibility":"on"}]},{"featureType":"road","elementType":"all","stylers":[{"saturation":-100},{"lightness":45},{"visibility":"simplified"}]},{"featureType":"road.highway","elementType":"all","stylers":[{"visibility":"simplified"}]},{"featureType":"road.highway","elementType":"geometry.fill","stylers":[{"color":"#fac9a9"},{"visibility":"simplified"}]},{"featureType":"road.highway","elementType":"labels.text","stylers":[{"color":"#4e4e4e"}]},{"featureType":"road.arterial","elementType":"labels.text.fill","stylers":[{"color":"#787878"}]},{"featureType":"road.arterial","elementType":"labels.icon","stylers":[{"visibility":"off"}]},{"featureType":"transit","elementType":"all","stylers":[{"visibility":"simplified"}]},{"featureType":"transit.station.airport","elementType":"labels.icon","stylers":[{"hue":"#0a00ff"},{"saturation":"-77"},{"gamma":"0.57"},{"lightness":"0"}]},{"featureType":"transit.station.rail","elementType":"labels.text.fill","stylers":[{"color":"#43321e"}]},{"featureType":"transit.station.rail","elementType":"labels.icon","stylers":[{"hue":"#ff6c00"},{"lightness":"4"},{"gamma":"0.75"},{"saturation":"-68"}]},{"featureType":"water","elementType":"all","stylers":[{"color":"#eaf6f8"},{"visibility":"on"}]},{"featureType":"water","elementType":"geometry.fill","stylers":[{"color":"#c7eced"}]},{"featureType":"water","elementType":"labels.text.fill","stylers":[{"lightness":"-49"},{"saturation":"-53"},{"gamma":"0.79"}]}]
        });

        var marker = new google.maps.Marker({
            position: marker.position,
            icon: icons[marker.type].icon,
            map: map
        });
    }
</script>
<script async defer
src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDcknJzbHOjqF_O9QAL1lZuSX34prq_3Wk&callback=initMap">
</script>